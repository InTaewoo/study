## 컨테이너의 간략한 소개

### 컨테이너란?

![image](https://user-images.githubusercontent.com/81672260/145739116-a06414dd-8ae7-4c4c-9cdf-3505a0804228.png)
컨테이너의 구성

- 컨테이너의 핵심 기술은 컨트롤 그룹과 네임스페이스에 있다.
- 이와 함께 도커는 컨테이너 개발 과정의 장점을 강화하기 위해 통합 파일시스템을 사용한다.

- 도커 컨테이너를 사용하는 주요 목적도 통합 파일시스템 때문이다. 컨테이너는 이미지로 실행되고 이미지는 VM과 클라우드의 이미지처럼 특정 시점의 상태를 제공한다.
-  컨테이너 이미지 파일시스템을 스냅샷으로 만들기 때문에 VM 이미지 보다 훨씬 작은 편이다.
-  컨테이너는 호스트 커널을 공유하며,파일시스템 크기와 부트스트랩 시간이 훨씬 작고 짧은 편.

![image](https://user-images.githubusercontent.com/81672260/145739483-d4581806-91c8-4a28-b044-1f132984cd70.png)


## 도커의 장점
- 코드를 지속적으로 배포, 수정을 통해 품질관리 및 테스트를 도입해 빨리 업데이트 되고 버그가 수정돼 전체적인 품질이 향상.
- 사내 스테이징 서버에 쉽게 배포할수 있고 클라우드에서도 쉽게 전송이 가능
- VM처럼 일반적으로 발생할수 있는 의존성 충돌 없이 동일한 호스트 서버에서 다양한 언어와 프레임워크를 실행할 수 있다.

## 쿠버네티스의 탄생
쿠버네티스는 구글이 2014년 6월에 배포한 오픈소스 프로젝트이다. 구글은 자신의 인프라 및 기술 이점을 커뮤니티와 공유하기 위한 노력의 일환으로 이 프로젝트를 배포.


## 사용 환경 설정
![image](https://user-images.githubusercontent.com/81672260/145750132-e8d0ebc6-590f-40ac-8d90-88d50362d6be.png)
Ubuntu 16.04
VirtualBox

## 첫 클러스터 만들기

```
sudo apt-get update
sudo apt-get install python
sudo apt-get install curl
```

## GoogleCloud SDK 설치

```
curl https://sdk.cloud.google.com | bash
glcoud auth login  구글 클라우드 플랫폼 계정정보를 설정 구글 클라우드 계정으로 로그인해 SDK를 인증할수 있도록 브라우저를 자동 실행.
```
![image](https://user-images.githubusercontent.com/81672260/145751735-72f46359-d150-42be-b969-03496bb0d301.png)

![image](https://user-images.githubusercontent.com/81672260/145760432-be692ae9-188d-490e-ae17-c626aa3cd372.png)

## 새로운 프로젝트 생성
![image](https://user-images.githubusercontent.com/81672260/145761235-aa09b636-b908-446d-ae79-be86f449d842.png)


## 프로젝트 ID 사용
![image](https://user-images.githubusercontent.com/81672260/145761121-3a88d8dc-7a07-45ae-b5da-627fc5cb643a.png)

```
gcloud config list project  프로젝트 리스트 확인
gcloud config set project kubernetes-335006 프로젝트ID입력
```

## kubernetes 설치

```
curl -sS https://get.k8s.io | bash 최신 쿠버네티스 한번에 설치
gcloud components install alpha 업데이트 진행
gcloud components install beta
kubernetes/cluster/kube-up.sh 스크립트 호출
```
## 생성 지역 선택
```
gcloud config set compute/zone us-central1-a
```

## 클러스터 생성
```
gcloud container clusters create taewoo-k8s-1
```
![image](https://user-images.githubusercontent.com/81672260/145765182-bafdd513-b0b3-47db-945b-7ccdc6484827.png)

## 클러스터 사용자 인증

```
glcoud container clusters get-credentials taewoo-k8s-1
```
![image](https://user-images.githubusercontent.com/81672260/145765679-e6902360-4b9b-46a3-9637-4affd70957a3.png)

## 배포
```
kubectl create deployment hello-server --image=gcr.io/google-samples/hello-app:1.0
```

## 서비스 만들기
```
kubectl expose deployment hello-server --type=LoadBalancer --port 8080 
kubectl get service 서비스 생성 확인
```

![image](https://user-images.githubusercontent.com/81672260/145766022-f87a1bf9-7a44-48e6-86ae-06d264f38e8d.png)

![image](https://user-images.githubusercontent.com/81672260/145766339-87fbb7a4-a6a4-42ba-a05d-fc93ed83b2ba.png)

<2분뒤 공인ip나옴>

## 배포 확인
```
http://[EXTERNAL-IP]:8080
http://34.135.28.248:8080/
```
![image](https://user-images.githubusercontent.com/81672260/145768478-779f5a72-0366-4b86-9b98-20298208ede5.png)

## GCP Ui 확인
![image](https://user-images.githubusercontent.com/81672260/145769839-7d5b6f99-4b67-43d7-a9ec-3669347bbef2.png)
